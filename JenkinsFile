currentBuild.displayName = env.JOB_NAME+env.BRANCH_NAME+currentBuild.displayName
pipeline{
  agent any
  triggers {
    pollSCM('* * * * *')
  }
  environment {
  MYENV="TEST pipepline"
  }

  stages {
    stage('Build ') {
      steps {
        echo "${MYENV}"
        echo "${env.PATH}"
        echo "Build step 1"
        echo "${env.BUILD_ID}"
        echo "Build step 2"
        echo "parameter flag is ${params.flag}"
      }
    }
    stage('Test') {
      environment {
      CC = "Mylang"
      }
      steps {
          echo "Mylang = ${Mylang}"
          echo "Test step 1"
          echo "Test step 2"
      }
    }
    stage('Deploy') {
      steps {
        echo "Deploy step 1 "
        echo "Deploy step 2"
      }
    }
  }
}

def readMyenv() {
  def Myenv="${MYENV}"
  return Myenv
}
